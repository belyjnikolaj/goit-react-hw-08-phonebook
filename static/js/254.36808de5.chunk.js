"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[254],{4254:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var a=t(2791),r=t(9434),c=t(4270),i=t(6916),o=function(e){return e.contacts.items},l=function(e){return e.contacts.isLoading},s=function(e){return e.filter.filter},d=(0,i.P1)([o,s],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),u=t(5861),m=t(1413),h=t(9439),x=t(4687),p=t.n(x),f=t(1979),b=t(9907),v=t(6151),j=t(208),Z=t(5149),g="ContactForm_form__ttXmo",y=t(184),w=(0,f.Z)({palette:{primary:{main:"#5D4037"}}}),C=function(e,n,t){return t.some((function(t){return t.number===e&&t.id!==n}))},k=function(e){var n=e.contact,t=e.onClose,c=(0,r.I0)(),i=(0,r.v9)(o),l=(0,a.useState)({name:"",number:""}),s=(0,h.Z)(l,2),d=s[0],x=s[1];(0,a.useEffect)((function(){n&&x({name:n.name||"",number:n.number||""})}),[n]);var f=function(){var e=(0,u.Z)(p().mark((function e(a){var r,o,l,s,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r=a.target,o=d.name,l=d.number,s=i.some((function(e){return e.name.toLowerCase()===o.toLowerCase()})),u=C(l,null===n||void 0===n?void 0:n.id,i),!s||n&&n.name===o){e.next=9;break}alert("".concat(o," is already in contacts!")),e.next=31;break;case 9:if(!u||n&&n.number===l){e.next=13;break}alert("".concat(l," is already associated with another contact!")),e.next=31;break;case 13:if(null===n||void 0===n||!n.id){e.next=29;break}if(n.name===o&&n.number===l){e.next=26;break}return e.prev=15,e.next=18,c((0,j.$Z)({contactId:n.id,name:o,number:l}));case 18:t(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),console.error("Error updating contact:",e.t0);case 24:e.next=27;break;case 26:t();case 27:e.next=31;break;case 29:c((0,j.uK)({name:o,number:l})),x({name:"",number:""});case 31:r.reset();case 32:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)("form",{onSubmit:f,onKeyDown:function(e){"Enter"===e.key&&f(e)},className:g,children:(0,y.jsxs)(Z.a,{theme:w,children:[(0,y.jsx)(b.Z,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(e){var n=e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1);x((function(e){return(0,m.Z)((0,m.Z)({},e),{},{name:n})}))},label:"Name",fullWidth:!0,color:"primary",id:"outlined-textarea",placeholder:"Enter name",multiline:!0,value:d.name}),(0,y.jsx)(b.Z,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .-\\s]?\\(?\\d{1,3}?\\)?[ .-\\s]?\\d{1,4}[ .-\\s]?\\d{1,4}[ .-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:function(e){var n=e.target.value.replace(/[^\d]/g,"");x((function(e){return(0,m.Z)((0,m.Z)({},e),{},{number:n})}))},label:"Number",fullWidth:!0,color:"primary",id:"outlined-textarea",placeholder:"Enter number",multiline:!0,value:d.number}),(0,y.jsx)(v.Z,{type:"submit",variant:"contained",disableElevation:!0,color:"primary",children:null!==n&&void 0!==n&&n.id?"Update contact":"Add contact"})]})})},_="Contact_contact__item__FcuyQ",A="Contact_accordion__mBw3x",I=t(3044),S=t(6314);function E(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var a="#";for(n=0;n<3;n+=1){a+="00".concat((t>>8*n&255).toString(16)).slice(-2)}return a}function F(e){var n=e.split(" "),t=n[0][0],a=n[1]?n[1][0]:"";return{sx:{bgcolor:E(e)},children:"".concat(t).concat(a)}}var N=function(e){var n=e.contact;return(0,y.jsx)(S.Z,{direction:"row",spacing:2,children:(0,y.jsx)(I.Z,(0,m.Z)({},F(n.name)))})},D=t(9877),L=t(7247),z=t(6002),K=t(1473),W=t(3721),B=t(5818),P=t(890),U=t(4554),$=t(7004),q=t(1286),G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var J=function(e){var n=e.contact,t=(0,a.useState)(!1),r=(0,h.Z)(t,2),c=r[0],i=r[1],o=function(){return i(!1)};return(0,y.jsxs)("div",{children:[(0,y.jsx)(D.Z,{color:"secondary","aria-label":"edit",onClick:function(){return i(!0)},style:{width:"40px",height:"40px"},children:(0,y.jsx)(q.Z,{})}),(0,y.jsx)($.Z,{open:c,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,y.jsx)(U.Z,{sx:G,children:(0,y.jsx)(k,{contact:n,onClose:o})})})]})},M=function(e){var n,t=e.contact,c=(0,r.I0)(),i=(0,a.useState)(!1),o=(0,h.Z)(i,2),l=o[0],s=o[1];return(0,y.jsx)("li",{className:_,children:(0,y.jsxs)(K.Z,{className:A,expanded:"panel1"===l,onChange:(n="panel1",function(e,t){s(!!t&&n)}),style:{width:"100%"},children:[(0,y.jsxs)(B.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"row"},children:[(0,y.jsx)(N,{contact:t}),(0,y.jsxs)(P.Z,{sx:{width:"100%",flexShrink:0,alignItems:"center",display:"flex",padding:"0 10px"},children:[t.name," ",t.number]})]}),(0,y.jsx)(W.Z,{style:{alignItems:"center",display:"flex",padding:"0 10px"},children:(0,y.jsxs)(S.Z,{direction:"row",spacing:2,children:[(0,y.jsx)(D.Z,{onClick:function(){window.location.href="tel:".concat(t.number)},color:"primary","aria-label":"call",style:{width:"40px",height:"40px"},children:(0,y.jsx)(z.Z,{})}),(0,y.jsx)(D.Z,{style:{backgroundColor:"#fff",color:"#5D4037",width:"40px",height:"40px"},"aria-label":"delete",onClick:function(){return c((0,j.GK)(t.id))},children:(0,y.jsx)(L.Z,{})}),(0,y.jsx)(J,{contact:t})]})})]})},t.id)},Q=function(){var e=(0,r.v9)(d);return(0,y.jsx)(y.Fragment,{children:0===e.length?(0,y.jsx)("p",{children:"No contacts available"}):(0,y.jsx)("ul",{style:{padding:"0 3vw"},children:e.map((function(e){return(0,y.jsx)(M,{contact:e},e.id)}))})})},X=t(1658),Y=t(5082),H=t(3466),O=t(1421),R=(0,f.Z)({palette:{primary:{main:"#5D4037"}}}),T=function(){var e=(0,r.I0)(),n=(0,r.v9)(s);return(0,y.jsxs)(U.Z,{sx:{maxWidth:500,padding:"1vw 3vw"},children:[(0,y.jsx)(P.Z,{variant:"h6",gutterBottom:!0,children:"Find contacts by name"}),(0,y.jsx)(Z.a,{theme:R,children:(0,y.jsx)(b.Z,{InputProps:{endAdornment:(0,y.jsx)(H.Z,{position:"end",children:(0,y.jsx)(O.Z,{})})},type:"text",label:"Seach",fullWidth:!0,color:"primary",id:"outlined-textarea",placeholder:"Seach...",value:n,onChange:function(n){e((0,Y.K)(n.target.value))}})})]})};function V(){var e=(0,r.I0)(),n=(0,r.v9)(l);return(0,a.useEffect)((function(){e((0,j.yF)())}),[e]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.q,{children:(0,y.jsx)("title",{children:"Your contacts"})}),(0,y.jsx)(k,{}),(0,y.jsx)(T,{}),(0,y.jsx)("div",{children:n&&(0,y.jsx)(X.Z,{})}),(0,y.jsx)(Q,{})]})}}}]);
//# sourceMappingURL=254.36808de5.chunk.js.map